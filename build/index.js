(()=>{"use strict";var e,t={906:()=>{const e=window.wp.blocks,t=window.wp.element,n=window.wp.i18n,o=window.wp.blockEditor,l=window.wp.components;function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}(0,e.registerBlockType)("emma/dialog",{edit:function(e){let{attributes:a,setAttributes:i}=e;const r=(0,o.useBlockProps)(),s=(0,o.useInnerBlocksProps)({className:"wp-block-emma-dialog__content"});function p(){if("delay"==a.openAutomatically)return(0,t.createElement)(l.__experimentalNumberControl,{label:"Open Delay",help:"Define how many seconds after page load the dialog box should appear.",value:a.openDelay,min:0,step:"0.1",onChange:e=>i({openDelay:parseFloat(e)})})}return null===a.openLimitId&&i({openLimitId:Math.random().toString(36).substring(2,5)+Math.random().toString(36).substring(2,5)}),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Open Options")},(0,t.createElement)(l.TextControl,{label:"Open Link",help:'Enter the desired address of buttons/links that should open this dialog box when clicked. When making a button/link, point the link to the value entered here with a "#" in front of it (e.g. "#dialog-link").',value:a.openLinkAddress,onChange:e=>{""===e||e.startsWith("#")||(e="#"+e),i({openLinkAddress:e})}}),(0,t.createElement)(l.RadioControl,{label:"Open On",selected:a.openOn,options:[{label:"Desktop",value:"desktop"},{label:"Mobile",value:"mobile"},{label:"Both",value:"both"}],onChange:e=>i({openOn:e})}),(0,t.createElement)(l.RadioControl,{label:"Open Automatically",selected:a.openAutomatically,options:[{label:"Do Not Open Automatically",value:"false"},{label:"Open Automatically After Delay",value:"delay"},{label:"Open Automatically on Exit Intent",value:"exit"}],onChange:e=>i({openAutomatically:e})})),(0,t.createElement)((function(){return"false"==a.openAutomatically?void 0:(0,t.createElement)(l.PanelBody,{title:(0,n.__)("Automatic Open Settings")},(0,t.createElement)(p,null),(0,t.createElement)(l.__experimentalNumberControl,{label:"Open Limit",help:"Define how many times this dialog box is allowed to appear. Use 0 for no limit.",value:a.openLimit,min:0,onChange:e=>i({openLimit:parseInt(e)})}),(0,t.createElement)(l.__experimentalNumberControl,{label:"Open Limit Expiration",help:"Define how many days before the open limit counter resets and the dialog is shown again. Use 0 for no limit.",value:a.openLimitExpiration,min:0,onChange:e=>i({openLimitExpiration:parseInt(e)})}),(0,t.createElement)(l.TextControl,{label:"Open Limit ID",help:"The ID that will be used to track how many times this dialog box will appear. Defaults to a random string, but can be customized so that multiple dialog boxes will count toward the same limit.",value:a.openLimitId,onChange:e=>i({openLimitId:e})}),(0,t.createElement)(l.RadioControl,{label:"Show dialog for",selected:a.openUsers,options:[{label:"Logged-In Users",value:"logged-in"},{label:"Logged-Out Users",value:"logged-out"},{label:"Both",value:"both"}],onChange:e=>i({openUsers:e})}))}),null)),(0,t.createElement)("div",r,(0,t.createElement)("div",null,(0,t.createElement)("a",{href:"#",class:"wp-block-emma-dialog__close"},(0,t.createElement)("span",{class:"screen-reader-text"},"Close Dialog"))),(0,t.createElement)("div",s)))},save:function(e){let{attributes:n}=e;const l=o.useBlockProps.save({className:""}),i=o.useInnerBlocksProps.save({className:"wp-block-emma-dialog__content"});var r={openOn:n.openOn,openLinkAddress:n.openLinkAddress};return n.openAutomatically&&(r.openAutomatically=n.openAutomatically,r.openLimitId=n.openLimitId,r.openUsers=n.openUsers,"delay"==n.openAutomatically&&(r.openDelay=n.openDelay),n.openLimit>0&&(r.openLimit=n.openLimit,r.openLimitExpiration=n.openLimitExpiration)),console.log(n),(0,t.createElement)("dialog",a({},l,{"data-options":JSON.stringify(r)}),(0,t.createElement)("div",null,(0,t.createElement)("a",{href:"#",class:"wp-block-emma-dialog__close"},(0,t.createElement)("span",{class:"screen-reader-text"},"Close Dialog"))),(0,t.createElement)("div",i))}})}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,l,a)=>{if(!n){var i=1/0;for(m=0;m<e.length;m++){for(var[n,l,a]=e[m],r=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(r=!1,a<i&&(i=a));if(r){e.splice(m--,1);var p=l();void 0!==p&&(t=p)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[n,l,a]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var l,a,[i,r,s]=n,p=0;if(i.some((t=>0!==e[t]))){for(l in r)o.o(r,l)&&(o.m[l]=r[l]);if(s)var m=s(o)}for(t&&t(n);p<i.length;p++)a=i[p],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(m)},n=globalThis.webpackChunkemma_dialog=globalThis.webpackChunkemma_dialog||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=o.O(void 0,[431],(()=>o(906)));l=o.O(l)})();